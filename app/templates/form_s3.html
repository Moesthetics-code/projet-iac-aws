<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SONATEL IAC â€” DÃ©ploiement S3 Static Website</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Sora:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ============================================================
           PROJET IAC SONATEL â€” S3 Static Website Deployer
           â”€â”€ Design System â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           Palette  : Midnight Navy + Amber Neon + Teal Glow
           Font     : Sora (UI) + Space Mono (code/badges)
           Aesthetic: Industrial-Tech / Mission Control
        ============================================================ */

        :root {
            --navy-900: #060d1f;
            --navy-800: #0a1628;
            --navy-700: #0f2044;
            --navy-600: #162d5e;
            --navy-500: #1e3a7e;
            --amber:    #f59e0b;
            --amber-dim:#78450a;
            --teal:     #0ea5e9;
            --teal-dim: #0c4a6e;
            --green:    #22c55e;
            --red:      #ef4444;
            --white:    #f8fafc;
            --gray-300: #94a3b8;
            --gray-200: #cbd5e1;
            --card-bg:  rgba(10, 22, 40, 0.92);
            --border:   rgba(14, 165, 233, 0.18);
            --glow-teal:0 0 24px rgba(14,165,233,0.25);
            --glow-amber:0 0 24px rgba(245,158,11,0.3);
            --radius:   14px;
            --radius-sm:8px;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Sora', sans-serif;
            background-color: var(--navy-900);
            color: var(--white);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            zoom: 0.8;
        }

        /* â”€â”€ Animated Grid Background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image:
                linear-gradient(rgba(14,165,233,0.04) 1px, transparent 1px),
                linear-gradient(90deg, rgba(14,165,233,0.04) 1px, transparent 1px);
            background-size: 48px 48px;
            pointer-events: none;
            z-index: 0;
        }

        /* â”€â”€ Radial Glow Orbs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        body::after {
            content: '';
            position: fixed;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(245,158,11,0.07) 0%, transparent 70%);
            top: -150px;
            right: -150px;
            pointer-events: none;
            z-index: 0;
            animation: orbFloat 10s ease-in-out infinite alternate;
        }

        @keyframes orbFloat {
            from { transform: translate(0,0) scale(1); }
            to   { transform: translate(-30px, 40px) scale(1.1); }
        }

        .orb-left {
            position: fixed;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(14,165,233,0.08) 0%, transparent 70%);
            bottom: -100px;
            left: -100px;
            pointer-events: none;
            z-index: 0;
            animation: orbFloat 13s ease-in-out infinite alternate-reverse;
        }

        /* â”€â”€ Top Navigation Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .topbar {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(6,13,31,0.85);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid var(--border);
            padding: 0 32px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .topbar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: 'Space Mono', monospace;
            font-size: 13px;
            letter-spacing: 0.05em;
        }

        .topbar-logo {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--teal), var(--amber));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .topbar-brand span { color: var(--gray-300); }
        .topbar-brand strong { color: var(--white); }

        .topbar-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

                .btn-back {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(59,130,246,0.1);
            border: 1px solid rgba(59,130,246,0.3);
            border-radius: 8px;
            color: var(--blue);
            text-decoration: none;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
        }
        .btn-back:hover { background: rgba(59,130,246,0.15); }

        .status-dot {
            width: 8px; height: 8px;
            border-radius: 50%;
            background: var(--green);
            box-shadow: 0 0 8px var(--green);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50%       { opacity: 0.4; }
        }

        .topbar-service {
            font-family: 'Space Mono', monospace;
            font-size: 11px;
            color: var(--gray-300);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* â”€â”€ Main Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .page-wrapper {
            position: relative;
            z-index: 1;
            max-width: 1180px;
            margin: 0 auto;
            padding: 48px 24px 80px;
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 32px;
            align-items: start;
        }

        /* â”€â”€ Page Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .page-header {
            grid-column: 1 / -1;
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 24px;
            margin-bottom: 8px;
        }

        .page-title-group { flex: 1; }

        .page-eyebrow {
            font-family: 'Space Mono', monospace;
            font-size: 11px;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--teal);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .page-eyebrow::before {
            content: '';
            width: 24px; height: 2px;
            background: var(--teal);
        }

        .page-title {
            font-size: 36px;
            font-weight: 800;
            line-height: 1.1;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, var(--white) 30%, var(--teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            margin-top: 12px;
            color: var(--gray-300);
            font-size: 15px;
            font-weight: 300;
            line-height: 1.6;
            max-width: 520px;
        }

        .region-chip {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 6px;
            flex-shrink: 0;
        }

        .chip {
            font-family: 'Space Mono', monospace;
            font-size: 11px;
            padding: 5px 12px;
            border-radius: 100px;
            border: 1px solid;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .chip-amber {
            color: var(--amber);
            border-color: rgba(245,158,11,0.4);
            background: rgba(245,158,11,0.07);
        }

        .chip-teal {
            color: var(--teal);
            border-color: rgba(14,165,233,0.35);
            background: rgba(14,165,233,0.07);
        }

        /* â”€â”€ MAIN CARD (Form) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
            backdrop-filter: blur(12px);
        }

        .card-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .card-header-icon {
            width: 40px; height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, rgba(14,165,233,0.2), rgba(14,165,233,0.05));
            border: 1px solid rgba(14,165,233,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .card-header-text h3 {
            font-size: 16px;
            font-weight: 700;
            color: var(--white);
            margin-bottom: 2px;
        }

        .card-header-text p {
            font-size: 12px;
            color: var(--gray-300);
        }

        .card-body { padding: 32px; }

        /* â”€â”€ Form Sections â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .section-divider {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 8px 0 24px;
        }

        .section-divider-label {
            font-family: 'Space Mono', monospace;
            font-size: 10px;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--gray-300);
            white-space: nowrap;
        }

        .section-divider-line {
            flex: 1;
            height: 1px;
            background: var(--border);
        }

        /* â”€â”€ Field Groups â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .field-group { margin-bottom: 24px; }

        .field-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-200);
        }

        .field-label .req {
            color: var(--amber);
            font-size: 16px;
            line-height: 1;
        }

        .field-hint {
            font-size: 11px;
            color: var(--gray-300);
            margin-bottom: 8px;
            font-weight: 300;
            font-style: italic;
        }

        /* â”€â”€ Inputs & Selects â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        input[type="text"],
        input[type="file"],
        select,
        textarea {
            width: 100%;
            background: rgba(15, 32, 68, 0.6);
            border: 1.5px solid rgba(14,165,233,0.2);
            color: var(--white);
            border-radius: var(--radius-sm);
            padding: 13px 16px;
            font-family: 'Sora', sans-serif;
            font-size: 14px;
            transition: border-color 0.25s, box-shadow 0.25s, background 0.25s;
            appearance: none;
            -webkit-appearance: none;
            outline: none;
        }

        input::placeholder { color: rgba(148,163,184,0.5); }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--teal);
            background: rgba(15, 32, 68, 0.9);
            box-shadow: var(--glow-teal);
        }

        input.error-field { border-color: var(--red) !important; }

        /* Select arrow */
        .select-wrapper {
            position: relative;
        }
        .select-wrapper::after {
            content: 'â–¾';
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--teal);
            pointer-events: none;
            font-size: 14px;
        }
        .select-wrapper select { padding-right: 36px; cursor: pointer; }
        select option {
            background: var(--navy-800);
            color: var(--white);
        }

        /* â”€â”€ Toggle Switch â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .toggle-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 16px;
            background: rgba(15,32,68,0.5);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            margin-bottom: 12px;
            cursor: pointer;
            transition: background 0.2s, border-color 0.2s;
        }
        .toggle-row:hover { background: rgba(15,32,68,0.8); border-color: rgba(14,165,233,0.3); }
        .toggle-row:has(input:checked) { border-color: rgba(14,165,233,0.5); background: rgba(14,165,233,0.06); }

        .toggle-info { flex: 1; }
        .toggle-info strong { font-size: 13px; font-weight: 600; display: block; margin-bottom: 2px; }
        .toggle-info span { font-size: 11px; color: var(--gray-300); }

        .toggle-switch {
            position: relative;
            width: 44px; height: 24px;
            flex-shrink: 0;
        }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider {
            position: absolute;
            inset: 0;
            background: rgba(148,163,184,0.2);
            border-radius: 100px;
            transition: 0.3s;
            cursor: pointer;
        }
        .toggle-slider::before {
            content: '';
            position: absolute;
            height: 18px; width: 18px;
            left: 3px; bottom: 3px;
            background: var(--gray-300);
            border-radius: 50%;
            transition: 0.3s;
        }
        .toggle-switch input:checked + .toggle-slider {
            background: rgba(14,165,233,0.4);
        }
        .toggle-switch input:checked + .toggle-slider::before {
            transform: translateX(20px);
            background: var(--teal);
            box-shadow: 0 0 8px var(--teal);
        }

        /* â”€â”€ File Upload Zone â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .upload-zone {
            border: 2px dashed rgba(14,165,233,0.25);
            border-radius: var(--radius-sm);
            background: rgba(15,32,68,0.4);
            padding: 32px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        .upload-zone:hover, .upload-zone.drag-over {
            border-color: var(--teal);
            background: rgba(14,165,233,0.07);
            box-shadow: var(--glow-teal);
        }

        .upload-zone input[type="file"] {
            position: absolute;
            inset: 0;
            opacity: 0;
            cursor: pointer;
            width: 100%;
            height: 100%;
            padding: 0;
            border: none;
            background: transparent;
        }

        .upload-icon { font-size: 36px; margin-bottom: 10px; display: block; }
        .upload-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--white);
            margin-bottom: 4px;
        }
        .upload-sublabel {
            font-size: 12px;
            color: var(--gray-300);
        }
        .upload-formats {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 6px;
            flex-wrap: wrap;
        }
        .fmt-badge {
            font-family: 'Space Mono', monospace;
            font-size: 10px;
            padding: 3px 8px;
            background: rgba(14,165,233,0.1);
            border: 1px solid rgba(14,165,233,0.25);
            border-radius: 4px;
            color: var(--teal);
        }

        .file-selected-info {
            display: none;
            align-items: center;
            gap: 10px;
            margin-top: 12px;
            padding: 10px 14px;
            background: rgba(34,197,94,0.08);
            border: 1px solid rgba(34,197,94,0.25);
            border-radius: var(--radius-sm);
            font-size: 13px;
            color: var(--green);
        }
        .file-selected-info.visible { display: flex; }

        /* â”€â”€ Radio Cards (Storage Class) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .radio-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .radio-card {
            position: relative;
            cursor: pointer;
        }
        .radio-card input { position: absolute; opacity: 0; }
        .radio-card-inner {
            padding: 14px 16px;
            background: rgba(15,32,68,0.5);
            border: 1.5px solid rgba(14,165,233,0.15);
            border-radius: var(--radius-sm);
            transition: all 0.25s;
        }
        .radio-card:hover .radio-card-inner { border-color: rgba(14,165,233,0.35); }
        .radio-card input:checked + .radio-card-inner {
            border-color: var(--teal);
            background: rgba(14,165,233,0.08);
            box-shadow: var(--glow-teal);
        }
        .radio-card-title {
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 3px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .radio-card-desc { font-size: 11px; color: var(--gray-300); line-height: 1.4; }

        /* â”€â”€ Progress Steps â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .steps-track {
            display: flex;
            align-items: center;
            gap: 0;
            margin-bottom: 32px;
        }
        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            position: relative;
        }
        .step-num {
            width: 32px; height: 32px;
            border-radius: 50%;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            font-weight: 700;
            color: var(--gray-300);
            background: var(--navy-800);
            z-index: 1;
            transition: all 0.3s;
        }
        .step-item.active .step-num {
            border-color: var(--teal);
            color: var(--teal);
            box-shadow: 0 0 12px rgba(14,165,233,0.4);
        }
        .step-item.done .step-num {
            background: var(--teal);
            border-color: var(--teal);
            color: var(--navy-900);
        }
        .step-label {
            font-size: 10px;
            font-family: 'Space Mono', monospace;
            letter-spacing: 0.04em;
            color: var(--gray-300);
            white-space: nowrap;
        }
        .step-item.active .step-label { color: var(--teal); }
        .step-connector {
            flex: 1;
            height: 2px;
            background: var(--border);
            margin: 0 8px;
            margin-bottom: 22px;
        }

        /* â”€â”€ Submit Button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .btn-primary {
            width: 100%;
            padding: 17px;
            background: linear-gradient(135deg, var(--teal) 0%, #0284c7 100%);
            border: none;
            border-radius: 10px;
            color: var(--navy-900);
            font-family: 'Sora', sans-serif;
            font-size: 15px;
            font-weight: 700;
            letter-spacing: 0.04em;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .btn-primary::before {
            content: '';
            position: absolute;
            top: -50%; left: -60%;
            width: 200%; height: 200%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
            transform: rotate(30deg) translateX(-100%);
            transition: transform 0.6s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 16px 40px rgba(14,165,233,0.4);
        }
        .btn-primary:hover::before { transform: rotate(30deg) translateX(200%); }
        .btn-primary:active { transform: translateY(0); }
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Loading spinner */
        .spinner {
            width: 18px; height: 18px;
            border: 2px solid rgba(6,13,31,0.3);
            border-top-color: var(--navy-900);
            border-radius: 50%;
            animation: spin 0.7s linear infinite;
            display: none;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* â”€â”€ SIDE PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .side-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* â”€â”€ Info Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .info-panel {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
        }

        .info-panel-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            font-size: 12px;
            font-family: 'Space Mono', monospace;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--amber);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-item {
            padding: 14px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }
        .info-item:last-child { border-bottom: none; }

        .info-item-icon {
            font-size: 18px;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .info-item-title {
            font-size: 12px;
            font-weight: 700;
            color: var(--white);
            margin-bottom: 3px;
        }
        .info-item-desc {
            font-size: 11px;
            color: var(--gray-300);
            line-height: 1.5;
        }

        /* â”€â”€ Permissions Preview Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .perms-panel {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
        }

        .perms-header {
            padding: 14px 20px;
            border-bottom: 1px solid var(--border);
            font-size: 11px;
            font-family: 'Space Mono', monospace;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--teal);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .code-block {
            background: rgba(6,13,31,0.8);
            padding: 16px 20px;
            font-family: 'Space Mono', monospace;
            font-size: 11px;
            color: #a8d8f0;
            line-height: 1.7;
            overflow-x: auto;
        }

        .code-key { color: #7dd3fc; }
        .code-val { color: #86efac; }
        .code-str { color: #fca5a5; }
        .code-sym { color: var(--gray-300); }

        /* â”€â”€ Resources Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .resource-list { padding: 16px 20px; }

        .resource-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 12px;
        }
        .resource-item:last-child { border-bottom: none; }

        .resource-icon {
            width: 28px; height: 28px;
            border-radius: 6px;
            background: rgba(245,158,11,0.12);
            border: 1px solid rgba(245,158,11,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            flex-shrink: 0;
        }

        .resource-name { font-weight: 600; color: var(--white); margin-bottom: 1px; }
        .resource-type { color: var(--gray-300); font-size: 10px; font-family: 'Space Mono', monospace; }

        /* â”€â”€ Validation Feedback â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .validation-msg {
            font-size: 11px;
            margin-top: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
            min-height: 16px;
        }
        .validation-msg.error { color: #f87171; }
        .validation-msg.success { color: var(--green); }
        .validation-msg.warning { color: var(--amber); }

        /* â”€â”€ Live Preview Box â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .preview-box {
            margin-top: 16px;
            padding: 14px 16px;
            background: rgba(14,165,233,0.06);
            border: 1px dashed rgba(14,165,233,0.3);
            border-radius: var(--radius-sm);
            font-size: 12px;
            display: none;
        }
        .preview-box.visible { display: block; }
        .preview-label {
            font-family: 'Space Mono', monospace;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--teal);
            margin-bottom: 8px;
        }
        .preview-url {
            font-family: 'Space Mono', monospace;
            font-size: 12px;
            color: var(--white);
            word-break: break-all;
        }
        .preview-url .highlight { color: var(--amber); font-weight: 700; }

        /* â”€â”€ Footer Note â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .footer-note {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 11px;
            color: var(--gray-300);
            margin-top: 8px;
            font-family: 'Space Mono', monospace;
        }

        /* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 900px) {
            .page-wrapper {
                grid-template-columns: 1fr;
                padding: 32px 16px 60px;
            }
            .page-header { flex-direction: column; gap: 16px; }
            .radio-grid { grid-template-columns: 1fr; }
        }

        /* â”€â”€ Animations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to   { opacity: 1; transform: translateY(0); }
        }
        .card { animation: fadeInUp 0.5s ease-out both; }
        .side-panel > * { animation: fadeInUp 0.5s ease-out both; }
        .side-panel > *:nth-child(2) { animation-delay: 0.08s; }
        .side-panel > *:nth-child(3) { animation-delay: 0.16s; }

        /* â”€â”€ Bucket name input char counter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .input-counter {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 6px;
        }
        .char-count {
            font-family: 'Space Mono', monospace;
            font-size: 10px;
            color: var(--gray-300);
        }

        /* â”€â”€ Error alert banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .alert-banner {
            display: none;
            padding: 12px 16px;
            border-radius: var(--radius-sm);
            font-size: 13px;
            margin-bottom: 24px;
            align-items: flex-start;
            gap: 10px;
        }
        .alert-banner.error {
            background: rgba(239,68,68,0.1);
            border: 1px solid rgba(239,68,68,0.3);
            color: #fca5a5;
            display: flex;
        }
    </style>
</head>
<body>
<div class="orb-left"></div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ TOP BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<header class="topbar">
    <div class="topbar-brand">
        <div class="topbar-logo">ğŸŒ</div>
        <span>PROJET IAC</span> <strong>SONATEL</strong>
    </div>
    <div class="topbar-right">
        <a href="/" class="btn-back">â† Tous les services</a>
        <div class="topbar-service">
            <div class="status-dot"></div>
            Services opÃ©rationnels
        </div>
        <div class="chip chip-amber">
            ğŸŒ eu-west-3 Â· Paris
        </div>
    </div>
</header>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<main class="page-wrapper">

    <!-- Header -->
    <div class="page-header">
        <div class="page-title-group">
            <div class="page-eyebrow">Infrastructure as Code Â· AWS S3</div>
            <h1 class="page-title">DÃ©ploiement S3<br>Site Web Statique</h1>
            <p class="page-subtitle">
                CrÃ©ez un compartiment S3 configurÃ© pour l'hÃ©bergement de site web statique,
                uploadez vos fichiers et obtenez un endpoint public en quelques minutes via GitHub Actions.
            </p>
        </div>
        <div class="region-chip">
            <div class="chip chip-teal">ğŸ”µ AWS S3</div>
            <div class="chip chip-amber">âš¡ Terraform 1.x</div>
            <div class="chip chip-teal">ğŸ”„ GitHub Actions</div>
        </div>
    </div>

    <!-- â”€â”€â”€ FORM CARD â”€â”€â”€ -->
    <div class="card">
        <div class="card-header">
            <div class="card-header-icon">ğŸª£</div>
            <div class="card-header-text">
                <h3>Configuration du Compartiment S3</h3>
                <p>Renseignez les propriÃ©tÃ©s du bucket et uploadez votre site</p>
            </div>
        </div>

        <div class="card-body">
            <!-- Progress Steps -->
            <div class="steps-track" id="stepsTrack">
                <div class="step-item active" data-step="1">
                    <div class="step-num">1</div>
                    <span class="step-label">Bucket</span>
                </div>
                <div class="step-connector"></div>
                <div class="step-item" data-step="2">
                    <div class="step-num">2</div>
                    <span class="step-label">Permissions</span>
                </div>
                <div class="step-connector"></div>
                <div class="step-item" data-step="3">
                    <div class="step-num">3</div>
                    <span class="step-label">Fichiers</span>
                </div>
                <div class="step-connector"></div>
                <div class="step-item" data-step="4">
                    <div class="step-num">4</div>
                    <span class="step-label">DÃ©ploiement</span>
                </div>
            </div>

            <div id="alertBanner" class="alert-banner error">
                <span>âš ï¸</span>
                <span id="alertText"></span>
            </div>

            <form method="post" action="/trigger-s3" id="s3Form" enctype="multipart/form-data">

                <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SECTION 1: IDENTIFICATION -->
                <div class="section-divider">
                    <span class="section-divider-label">01 â€” Identification</span>
                    <div class="section-divider-line"></div>
                </div>

                <!-- Bucket Name -->
                <div class="field-group">
                    <div class="input-counter">
                        <label class="field-label" for="bucket_name" style="margin-bottom:0">
                            Nom du compartiment
                            <span class="req">*</span>
                        </label>
                        <span class="char-count" id="bucketCharCount">0 / 63</span>
                    </div>
                    <p class="field-hint">
                        3â€“63 caractÃ¨res Â· minuscules, chiffres et tirets uniquement Â· doit Ãªtre globalement unique sur AWS
                    </p>
                    <input
                        type="text"
                        id="bucket_name"
                        name="bucket_name"
                        placeholder="ex: sonatel-website-prod"
                        required
                        maxlength="63"
                        autocomplete="off"
                        autocorrect="off"
                        autocapitalize="off"
                        spellcheck="false"
                    >
                    <div class="validation-msg" id="bucketValidation"></div>

                    <!-- Live URL Preview -->
                    <div class="preview-box" id="urlPreview">
                        <div class="preview-label">ğŸŒ Endpoint Web Statique</div>
                        <div class="preview-url" id="urlPreviewText">
                            https://<span class="highlight" id="urlBucketSlot">...</span>.s3-website.eu-west-3.amazonaws.com
                        </div>
                    </div>
                </div>

                <!-- Environment -->
                <div class="field-group">
                    <label class="field-label" for="bucket_env">
                        Environnement <span class="req">*</span>
                    </label>
                    <p class="field-hint">DÃ©termine le tagging Terraform et les politiques d'accÃ¨s appliquÃ©es</p>
                    <div class="select-wrapper">
                        <select id="bucket_env" name="bucket_env" required>
                            <option value="">â€” Choisir l'environnement â€”</option>
                            <option value="dev">ğŸ”§ DÃ©veloppement</option>
                            <option value="preprod">ğŸ§ª PrÃ©production</option>
                            <option value="prod">ğŸš€ Production</option>
                        </select>
                    </div>
                </div>

                <!-- Region -->
                <div class="field-group">
                    <label class="field-label" for="bucket_region">
                        RÃ©gion AWS <span class="req">*</span>
                    </label>
                    <div class="select-wrapper">
                        <select id="bucket_region" name="bucket_region" required>
                            <option value="eu-west-3">ğŸ‡«ğŸ‡· eu-west-3 â€” Paris (recommandÃ©)</option>
                            <option value="eu-north-1">ğŸ‡¸ğŸ‡ª eu-north-1 â€” Stockholm</option>
                            <option value="us-east-1">ğŸ‡ºğŸ‡¸ us-east-1 â€” Virginie du Nord</option>
                            <option value="us-west-2">ğŸ‡ºğŸ‡¸ us-west-2 â€” Oregon</option>
                        </select>
                    </div>
                </div>

                <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SECTION 2: PERMISSIONS -->
                <div class="section-divider">
                    <span class="section-divider-label">02 â€” Permissions & AccÃ¨s public</span>
                    <div class="section-divider-line"></div>
                </div>

                <!-- Block Public Access DISABLED -->
                <div class="toggle-row">
                    <div class="toggle-info">
                        <strong>Bloquer les ACL publiques</strong>
                        <span>block_public_acls â€” dÃ©sactivÃ©</span>
                    </div>
                    <label class="toggle-switch" for="block_public_acls">
                        <input type="checkbox" id="block_public_acls" name="block_public_acls">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="toggle-row" >
                    <div class="toggle-info">
                        <strong>Bloquer les politiques publiques</strong>
                        <span>block_public_policy â€” dÃ©sactivÃ© pour autoriser la bucket policy GetObject</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="block_public_policy" name="block_public_policy">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="toggle-row">
                    <div class="toggle-info">
                        <strong>Ignorer les ACL publiques</strong>
                        <span>ignore_public_acls â€” dÃ©sactivÃ©</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="ignore_public_acls" name="ignore_public_acls">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="toggle-row">
                    <div class="toggle-info">
                        <strong>Restreindre les buckets publics</strong>
                        <span>restrict_public_buckets â€” dÃ©sactivÃ© pour l'hÃ©bergement web</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="restrict_public_buckets" name="restrict_public_buckets">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Versioning -->
                <div class="field-group" style="margin-top:16px">
                    <label class="field-label" for="enable_versioning">Versioning du bucket</label>
                    <div class="select-wrapper">
                        <select id="enable_versioning" name="enable_versioning">
                            <option value="Disabled">âš« DÃ©sactivÃ©</option>
                            <option value="Enabled">ğŸŸ¢ ActivÃ© (recommandÃ© en prod)</option>
                            <option value="Suspended">ğŸŸ¡ Suspendu</option>
                        </select>
                    </div>
                </div>

                <!-- Storage Class -->
                <div class="field-group">
                    <label class="field-label">Classe de stockage</label>
                    <p class="field-hint">Affecte le coÃ»t et la durabilitÃ© des objets uploadÃ©s</p>
                    <div class="radio-grid">
                        <label class="radio-card">
                            <input type="radio" name="storage_class" value="STANDARD" checked>
                            <div class="radio-card-inner">
                                <div class="radio-card-title">ğŸ’ STANDARD</div>
                                <div class="radio-card-desc">AccÃ¨s frÃ©quent, faible latence. RecommandÃ© pour les sites web actifs.</div>
                            </div>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="storage_class" value="STANDARD_IA">
                            <div class="radio-card-inner">
                                <div class="radio-card-title">ğŸ“¦ STANDARD_IA</div>
                                <div class="radio-card-desc">AccÃ¨s peu frÃ©quent. CoÃ»t rÃ©duit pour archives.</div>
                            </div>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="storage_class" value="ONEZONE_IA">
                            <div class="radio-card-inner">
                                <div class="radio-card-title">ğŸ—‚ï¸ ONEZONE_IA</div>
                                <div class="radio-card-desc">1 zone seulement. Moins cher, moins rÃ©silient.</div>
                            </div>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="storage_class" value="INTELLIGENT_TIERING">
                            <div class="radio-card-inner">
                                <div class="radio-card-title">ğŸ¤– INTELLIGENT</div>
                                <div class="radio-card-desc">Transition automatique selon les patterns d'accÃ¨s.</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SECTION 3: SITE WEB -->
                <div class="section-divider">
                    <span class="section-divider-label">03 â€” Configuration Site Web</span>
                    <div class="section-divider-line"></div>
                </div>

                <!-- Index Document -->
                <div class="field-group">
                    <label class="field-label" for="index_document">
                        Document index <span class="req">*</span>
                    </label>
                    <p class="field-hint">Fichier servi Ã  la racine de votre site (ex: index.html)</p>
                    <input
                        type="text"
                        id="index_document"
                        name="index_document"
                        value="index.html"
                        placeholder="index.html"
                        required
                    >
                </div>

                <!-- Error Document -->
                <div class="field-group">
                    <label class="field-label" for="error_document">Document d'erreur 404</label>
                    <p class="field-hint">Fichier affichÃ© en cas d'objet non trouvÃ© (optionnel)</p>
                    <input
                        type="text"
                        id="error_document"
                        name="error_document"
                        value="error.html"
                        placeholder="error.html"
                    >
                </div>

                <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SECTION 4: UPLOAD -->
                <div class="section-divider">
                    <span class="section-divider-label">04 â€” Upload des Fichiers</span>
                    <div class="section-divider-line"></div>
                </div>

                <div class="field-group">
                    <label class="field-label">
                        Fichiers du site statique <span class="req">*</span>
                    </label>
                    <p class="field-hint">SÃ©lectionnez tous les fichiers de votre site. Seront uploadÃ©s dans le bucket S3 aprÃ¨s crÃ©ation.</p>

                    <div class="upload-zone" id="uploadZone">
                        <input
                            type="file"
                            id="site_files"
                            name="site_files"
                            multiple
                            accept=".html,.css,.js,.json,.png,.jpg,.jpeg,.gif,.svg,.ico,.woff,.woff2,.ttf,.pdf,.txt,.xml"
                            required
                        >
                        <span class="upload-icon">â¬†ï¸</span>
                        <div class="upload-label">Glissez vos fichiers ici</div>
                        <div class="upload-sublabel">ou cliquez pour parcourir</div>
                        <div class="upload-formats">
                            <span class="fmt-badge">html</span>
                            <span class="fmt-badge">css</span>
                            <span class="fmt-badge">js</span>
                            <span class="fmt-badge">json</span>
                            <span class="fmt-badge">png/jpg</span>
                            <span class="fmt-badge">svg</span>
                            <span class="fmt-badge">ico</span>
                        </div>
                    </div>

                    <div class="file-selected-info" id="fileSelectedInfo">
                        <span>âœ…</span>
                        <span id="fileSelectedText">Fichiers sÃ©lectionnÃ©s</span>
                    </div>
                    <div class="validation-msg" id="filesValidation"></div>
                </div>

                <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SUBMIT -->
                <div style="margin-top: 32px">
                    <button type="submit" class="btn-primary" id="submitBtn">
                        <span class="spinner" id="spinner"></span>
                        <span id="btnText">ğŸª£ CrÃ©er le bucket & DÃ©ployer le site</span>
                    </button>
                </div>

                <p style="text-align:center; margin-top:12px; font-size:11px; color: var(--gray-300); font-family:'Space Mono',monospace;">
                    â±ï¸ Le pipeline GitHub Actions prend environ 2â€“4 minutes
                </p>

            </form>
        </div>
    </div>

    <!-- â”€â”€â”€ SIDE PANEL â”€â”€â”€ -->
    <div class="side-panel">

        <!-- Terraform Resources -->
        <div class="info-panel">
            <div class="info-panel-header">ğŸ—ï¸ Ressources Terraform crÃ©Ã©es</div>
            <div class="resource-list">
                <div class="resource-item">
                    <div class="resource-icon">ğŸª£</div>
                    <div>
                        <div class="resource-name">aws_s3_bucket</div>
                        <div class="resource-type">BUCKET PRINCIPAL</div>
                    </div>
                </div>
                <div class="resource-item">
                    <div class="resource-icon">ğŸ”“</div>
                    <div>
                        <div class="resource-name">aws_s3_bucket_public_access_block</div>
                        <div class="resource-type">CONTRÃ”LE ACCÃˆS PUBLIC</div>
                    </div>
                </div>
                <div class="resource-item">
                    <div class="resource-icon">ğŸ“œ</div>
                    <div>
                        <div class="resource-name">aws_s3_bucket_policy</div>
                        <div class="resource-type">POLICY GET OBJECT</div>
                    </div>
                </div>
                <div class="resource-item">
                    <div class="resource-icon">ğŸŒ</div>
                    <div>
                        <div class="resource-name">aws_s3_bucket_website_configuration</div>
                        <div class="resource-type">CONFIG SITE WEB STATIQUE</div>
                    </div>
                </div>
                <div class="resource-item">
                    <div class="resource-icon">ğŸ“¦</div>
                    <div>
                        <div class="resource-name">aws_s3_bucket_versioning</div>
                        <div class="resource-type">VERSIONING</div>
                    </div>
                </div>
                <div class="resource-item">
                    <div class="resource-icon">ğŸ“</div>
                    <div>
                        <div class="resource-name">aws_s3_object (multiple)</div>
                        <div class="resource-type">FICHIERS DU SITE</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bucket Policy Preview -->
        <div class="perms-panel">
            <div class="perms-header">ğŸ“œ Bucket Policy gÃ©nÃ©rÃ©e (GetObject)</div>
            <div class="code-block">
                <span class="code-sym">{</span><br>
                &nbsp;<span class="code-key">"Version"</span><span class="code-sym">:</span> <span class="code-str">"2012-10-17"</span><span class="code-sym">,</span><br>
                &nbsp;<span class="code-key">"Statement"</span><span class="code-sym">: [{</span><br>
                &nbsp;&nbsp;<span class="code-key">"Sid"</span><span class="code-sym">:</span> <span class="code-str">"PublicReadGetObject"</span><span class="code-sym">,</span><br>
                &nbsp;&nbsp;<span class="code-key">"Effect"</span><span class="code-sym">:</span> <span class="code-val">"Allow"</span><span class="code-sym">,</span><br>
                &nbsp;&nbsp;<span class="code-key">"Principal"</span><span class="code-sym">:</span> <span class="code-str">"*"</span><span class="code-sym">,</span><br>
                &nbsp;&nbsp;<span class="code-key">"Action"</span><span class="code-sym">:</span> <span class="code-str">"s3:GetObject"</span><span class="code-sym">,</span><br>
                &nbsp;&nbsp;<span class="code-key">"Resource"</span><span class="code-sym">:</span><br>
                &nbsp;&nbsp;&nbsp;<span class="code-str">"arn:aws:s3:::&lt;bucket&gt;/*"</span><br>
                &nbsp;<span class="code-sym">}]</span><br>
                <span class="code-sym">}</span>
            </div>
        </div>

        <!-- Info Items -->
        <div class="info-panel">
            <div class="info-panel-header">ğŸ’¡ PropriÃ©tÃ©s importantes</div>
            <div class="info-item">
                <div class="info-item-icon">ğŸ”‘</div>
                <div>
                    <div class="info-item-title">AccÃ¨s Public Requis</div>
                    <div class="info-item-desc">Pour servir des pages web, les 4 options <code>block_public_*</code> doivent Ãªtre Ã  <strong>false</strong>. Les toggles ci-contre sont dÃ©sactivÃ©s par dÃ©faut â€” c'est la configuration correcte.</div>
                </div>
            </div>
            <div class="info-item">
                <div class="info-item-icon">ğŸŒ</div>
                <div>
                    <div class="info-item-title">Website Endpoint</div>
                    <div class="info-item-desc">AWS gÃ©nÃ¨re automatiquement une URL publique de type <code>&lt;bucket&gt;.s3-website.&lt;region&gt;.amazonaws.com</code> aprÃ¨s la configuration.</div>
                </div>
            </div>
            <div class="info-item">
                <div class="info-item-icon">ğŸ“‚</div>
                <div>
                    <div class="info-item-title">MIME Types automatiques</div>
                    <div class="info-item-desc">Terraform dÃ©tecte les <code>content_type</code> pour chaque fichier uploadÃ©. Les navigateurs recevront les bons en-tÃªtes HTTP.</div>
                </div>
            </div>
            <div class="info-item">
                <div class="info-item-icon">ğŸ·ï¸</div>
                <div>
                    <div class="info-item-title">Tags Terraform</div>
                    <div class="info-item-desc">Chaque ressource reÃ§oit les tags <code>Environment</code>, <code>ManagedBy: Terraform</code> et <code>Project: Sonatel-IAC</code>.</div>
                </div>
            </div>
        </div>

    </div><!-- /side-panel -->

    <p class="footer-note">
        PROJET IAC SONATEL Â· S3 Static Website Deployer Â· Terraform + GitHub Actions Â· AWS eu-west-3
    </p>

</main>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ JS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<script>
    /* â”€â”€ Bucket name validation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const bucketInput     = document.getElementById('bucket_name');
    const bucketValidMsg  = document.getElementById('bucketValidation');
    const bucketCharCount = document.getElementById('bucketCharCount');
    const urlPreview      = document.getElementById('urlPreview');
    const urlBucketSlot   = document.getElementById('urlBucketSlot');
    const regionSelect    = document.getElementById('bucket_region');

    function validateBucketName(name) {
        if (!name) return { ok: false, msg: '' };
        if (name.length < 3)  return { ok: false, msg: 'âŒ Minimum 3 caractÃ¨res requis' };
        if (name.length > 63) return { ok: false, msg: 'âŒ Maximum 63 caractÃ¨res' };
        if (!/^[a-z0-9]/.test(name)) return { ok: false, msg: 'âŒ Doit commencer par une lettre minuscule ou un chiffre' };
        if (!/[a-z0-9]$/.test(name)) return { ok: false, msg: 'âŒ Doit finir par une lettre minuscule ou un chiffre' };
        if (/[^a-z0-9-]/.test(name)) return { ok: false, msg: 'âŒ CaractÃ¨res invalides (majuscules, underscores non permis)' };
        if (/--/.test(name))          return { ok: false, msg: 'âŒ Deux tirets consÃ©cutifs non permis' };
        if (/^\d+\.\d+\.\d+\.\d+$/.test(name)) return { ok: false, msg: 'âŒ Ne peut pas ressembler Ã  une adresse IP' };
        return { ok: true, msg: 'âœ… Nom valide' };
    }

    function updateBucketUI() {
        const val = bucketInput.value;
        const len = val.length;
        bucketCharCount.textContent = `${len} / 63`;
        bucketCharCount.style.color = len > 55 ? 'var(--amber)' : 'var(--gray-300)';

        const { ok, msg } = validateBucketName(val);
        bucketValidMsg.textContent = msg;
        bucketValidMsg.className = `validation-msg ${ok ? 'success' : (msg ? 'error' : '')}`;
        bucketInput.classList.toggle('error-field', !ok && !!msg);

        if (val.length >= 3) {
            urlPreview.classList.add('visible');
            urlBucketSlot.textContent = val || '...';
        } else {
            urlPreview.classList.remove('visible');
        }
    }

    bucketInput.addEventListener('input', updateBucketUI);
    regionSelect.addEventListener('change', () => {
        if (bucketInput.value.length >= 3) {
            const reg = regionSelect.value;
            const base = `https://${bucketInput.value}.s3-website.${reg}.amazonaws.com`;
            document.getElementById('urlPreviewText').innerHTML =
                `https://<span class="highlight" id="urlBucketSlot">${bucketInput.value}</span>.s3-website.${reg}.amazonaws.com`;
        }
    });

    /* â”€â”€ File upload UX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const fileInput         = document.getElementById('site_files');
    const fileSelectedInfo  = document.getElementById('fileSelectedInfo');
    const fileSelectedText  = document.getElementById('fileSelectedText');
    const uploadZone        = document.getElementById('uploadZone');
    const filesValidation   = document.getElementById('filesValidation');

    function humanSize(bytes) {
        if (bytes < 1024) return bytes + ' B';
        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
        return (bytes / 1024 / 1024).toFixed(2) + ' MB';
    }

    fileInput.addEventListener('change', () => {
        const files = fileInput.files;
        if (!files.length) {
            fileSelectedInfo.classList.remove('visible');
            return;
        }
        const total = Array.from(files).reduce((s, f) => s + f.size, 0);
        fileSelectedText.textContent =
            `${files.length} fichier(s) sÃ©lectionnÃ©(s) Â· ${humanSize(total)} au total`;
        fileSelectedInfo.classList.add('visible');
        filesValidation.textContent = '';
        filesValidation.className = 'validation-msg';

        // Validate: check index.html present
        const names = Array.from(files).map(f => f.name);
        const indexDoc = document.getElementById('index_document').value || 'index.html';
        if (!names.includes(indexDoc)) {
            filesValidation.textContent = `âš ï¸ Fichier "${indexDoc}" non trouvÃ© parmi les fichiers sÃ©lectionnÃ©s`;
            filesValidation.className = 'validation-msg warning';
        } else {
            filesValidation.textContent = `âœ… Document index "${indexDoc}" dÃ©tectÃ©`;
            filesValidation.className = 'validation-msg success';
        }
    });

    /* Drag & Drop */
    ['dragenter','dragover'].forEach(evt =>
        uploadZone.addEventListener(evt, e => {
            e.preventDefault();
            uploadZone.classList.add('drag-over');
        })
    );
    ['dragleave','drop'].forEach(evt =>
        uploadZone.addEventListener(evt, e => {
            e.preventDefault();
            uploadZone.classList.remove('drag-over');
        })
    );
    uploadZone.addEventListener('drop', e => {
        if (e.dataTransfer.files.length) {
            fileInput.files = e.dataTransfer.files;
            fileInput.dispatchEvent(new Event('change'));
        }
    });

    /* â”€â”€ Progress Steps controller â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function setActiveStep(n) {
        document.querySelectorAll('.step-item').forEach(el => {
            const s = parseInt(el.dataset.step);
            el.classList.toggle('active', s === n);
            el.classList.toggle('done', s < n);
        });
    }

    /* Track scroll position through form sections */
    const sections = [
        document.querySelector('[data-step="1"]'),
    ];
    const fieldIds = ['bucket_name', 'block_public_acls', 'index_document', 'site_files'];
    fieldIds.forEach((id, i) => {
        const el = document.getElementById(id);
        if (el) {
            el.addEventListener('focus', () => setActiveStep(i + 1));
        }
    });

    /* â”€â”€ Form Submission â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const form      = document.getElementById('s3Form');
    const submitBtn = document.getElementById('submitBtn');
    const spinner   = document.getElementById('spinner');
    const btnText   = document.getElementById('btnText');
    const alert     = document.getElementById('alertBanner');
    const alertText = document.getElementById('alertText');

    function showAlert(msg) {
        alertText.textContent = msg;
        alert.style.display = 'flex';
        alert.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    function hideAlert() {
        alert.style.display = 'none';
    }

    form.addEventListener('submit', function(e) {
        hideAlert();

        const bucketName    = bucketInput.value.trim();
        const bucketEnv     = document.getElementById('bucket_env').value;
        const indexDoc      = document.getElementById('index_document').value.trim();
        const files         = fileInput.files;

        // Validate bucket name
        const { ok, msg } = validateBucketName(bucketName);
        if (!ok) {
            e.preventDefault();
            showAlert(`Nom du bucket invalide : ${msg}`);
            bucketInput.focus();
            return false;
        }

        // Validate env
        if (!bucketEnv) {
            e.preventDefault();
            showAlert("Veuillez sÃ©lectionner un environnement.");
            document.getElementById('bucket_env').focus();
            return false;
        }

        // Validate files
        if (!files.length) {
            e.preventDefault();
            showAlert("Veuillez sÃ©lectionner au moins un fichier Ã  uploader.");
            return false;
        }

        // Validate index document presence
        const fileNames = Array.from(files).map(f => f.name);
        if (!fileNames.includes(indexDoc)) {
            e.preventDefault();
            showAlert(`Le fichier index "${indexDoc}" n'est pas prÃ©sent parmi les fichiers sÃ©lectionnÃ©s.`);
            return false;
        }

        // Prod confirmation
        if (bucketEnv === 'prod') {
            if (!confirm('âš ï¸ Vous allez dÃ©ployer un bucket S3 en PRODUCTION avec accÃ¨s public. Confirmez-vous ?')) {
                e.preventDefault();
                return false;
            }
        }

        // Proceed
        setActiveStep(4);
        spinner.style.display = 'block';
        btnText.textContent = 'Pipeline en cours de dÃ©clenchement...';
        submitBtn.disabled = true;
    });

    /* â”€â”€ Toggle rows: prevent double-click form submit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    document.querySelectorAll('.toggle-row').forEach(row => {
    row.addEventListener('click', function(e) {
        // Ne pas traiter si on clique directement sur l'input
        if (e.target.type === 'checkbox') return;
        
        // Trouver le checkbox dans cette row
        const cb = this.querySelector('input[type="checkbox"]');
        if (cb) {
            cb.checked = !cb.checked;
            // DÃ©clencher l'Ã©vÃ©nement change pour mettre Ã  jour les calculs
            cb.dispatchEvent(new Event('change', { bubbles: true }));
        }
    });
});

    /* â”€â”€ Auto-focus first field on load â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    setTimeout(() => bucketInput.focus(), 400);
</script>
</body>
</html>